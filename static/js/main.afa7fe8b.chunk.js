(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__10ob4",galleryItemImage:"ImageGalleryItem_galleryItemImage__2Gquu"}},12:function(e,t,a){e.exports={app:"App_app__2GG4k",errorMessage:"App_errorMessage__17g3w"}},16:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__33K7V"}},17:function(e,t,a){e.exports={button:"Button_button__1hrmB"}},19:function(e,t,a){e.exports={loader:"Spinner_loader__EY7aR"}},24:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),s=a.n(o),i=(a(24),a(13)),c=a(3),l=a(4),u=a(6),m=a(5),h=(a(15),a(14)),p=a.p+"static/media/search.2c56cdac.svg",d=a(8),f=a.n(d),g=a(1),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleQueryChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.query.trim()?e.props.onSubmit(e.state.query):Object(h.b)("Type in the keyword")},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)("header",{className:f.a.searchbar,children:Object(g.jsxs)("form",{className:f.a.form,onSubmit:this.handleSubmit,children:[Object(g.jsx)("button",{type:"submit",className:f.a.button,children:Object(g.jsx)("img",{className:f.a.icon,src:p,alt:"img"})}),Object(g.jsx)(h.a,{}),Object(g.jsx)("input",{className:f.a.input,type:"text",value:this.state.query,onChange:this.handleQueryChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),y=["title","titleId"];function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},j.apply(this,arguments)}function O(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function k(e,t){var a=e.title,n=e.titleId,o=O(e,y);return r.createElement("svg",j({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:30,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":n},o),a?r.createElement("title",{id:n},a):null,r.createElement("g",{transform:"translate(128 128) scale(0.87 0.87)",style:{}},r.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(-144.89999999999998 -144.90000000000003) scale(3.22 3.22)"},r.createElement("path",{d:"M 24.482 67.518 c -0.512 0 -1.024 -0.195 -1.414 -0.586 c -0.781 -0.781 -0.781 -2.047 0 -2.828 l 41.035 -41.035 c 0.781 -0.781 2.047 -0.781 2.828 0 c 0.781 0.781 0.781 2.047 0 2.828 L 25.896 66.932 C 25.506 67.322 24.994 67.518 24.482 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),r.createElement("path",{d:"M 65.518 67.518 c -0.512 0 -1.023 -0.195 -1.414 -0.586 L 23.068 25.896 c -0.781 -0.781 -0.781 -2.047 0 -2.828 c 0.78 -0.781 2.048 -0.781 2.828 0 l 41.035 41.035 c 0.781 0.781 0.781 2.047 0 2.828 C 66.541 67.322 66.029 67.518 65.518 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),r.createElement("path",{d:"M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 4 C 22.393 4 4 22.393 4 45 s 18.393 41 41 41 s 41 -18.393 41 -41 S 67.607 4 45 4 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}))))}var v=r.forwardRef(k),w=(a.p,a(9)),x=a.n(w),_=document.querySelector("#modal-root"),M=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleBackdropClick=function(t){e.props.toggleModal(),t.currentTarget!==t.target&&"svg"!==t.target.nodeName&&"path"!==t.target.nodeName||e.props.toggleModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(g.jsxs)("div",{className:x.a.overlay,onClick:this.handleBackdropClick,children:[Object(g.jsx)(v,{className:x.a.closeButton,fill:"#fff"}),Object(g.jsx)("div",{className:x.a.modal,children:Object(g.jsx)("img",{src:this.props.largeImageURL,alt:"img"})})]}),_)}}]),a}(r.Component),S=a(11),L=a.n(S),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsxs)("li",{className:L.a.galleryItem,onClick:this.toggleModal,children:[Object(g.jsx)("img",{className:L.a.galleryItemImage,src:this.props.webformatURL,alt:"img"}),this.state.showModal&&Object(g.jsx)(M,{largeImageURL:this.props.largeImageURL,toggleModal:this.toggleModal})]},this.props.id)}}]),a}(r.Component),I=a(16),N=a.n(I),R=function(e){var t=e.images;return Object(g.jsx)("ul",{className:N.a.gallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL;return Object(g.jsx)(C,{id:t,webformatURL:a,largeImageURL:r},t)}))})},E=a(17),B=a.n(E),D=function(e){var t=e.onMoreBtnClick;return Object(g.jsx)("button",{className:B.a.button,onClick:t,children:"Load more"})},U=a(18),q=a.n(U),z=(a(46),a(19)),Q=a.n(z),G=function(){return Object(g.jsx)(q.a,{className:Q.a.loader,type:"Oval",color:"#3f51b5",height:100,width:100})},A=a(12),P=a.n(A),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).myRef=n.a.createRef(),e.state={searchQuery:"",images:[],page:1,loading:!1,error:null},e.handleFormSubmit=function(t){e.setState({searchQuery:t}),e.setState({images:[]}),e.myRef.current.scrollIntoView()},e.onMoreBtnClick=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.searchQuery===this.state.searchQuery&&t.page===this.state.page||(this.setState({loading:!0}),fetch("https://pixabay.com/api/?q=".concat(this.state.searchQuery,"&page=").concat(this.state.page,"&key=23351611-7864196d6829752dad19e3759&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No images found"))})).then((function(e){a.setState((function(t){return{images:[].concat(Object(i.a)(t.images),Object(i.a)(e.hits))}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({loading:!1})})))}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:P.a.app,ref:this.myRef,children:[Object(g.jsx)(b,{onSubmit:this.handleFormSubmit}),this.state.loading&&Object(g.jsx)(G,{}),this.state.error&&Object(g.jsx)("h1",{className:P.a.errorMessage,children:this.state.error.message}),Object(g.jsx)(R,{images:this.state.images}),this.state.images.length>0&&Object(g.jsx)(D,{onMoreBtnClick:this.onMoreBtnClick})]})}}]),a}(r.Component);s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(W,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__eqeEu",button:"Searchbar_button__1i_LR",input:"Searchbar_input__EOwto"}},9:function(e,t,a){e.exports={overlay:"Modal_overlay__3iQGN",modal:"Modal_modal__1D1C_",closeButton:"Modal_closeButton__1ODNO"}}},[[47,1,2]]]);
//# sourceMappingURL=main.afa7fe8b.chunk.js.map