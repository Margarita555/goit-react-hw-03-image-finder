(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__10ob4",galleryItemImage:"ImageGalleryItem_galleryItemImage__2Gquu"}},13:function(e,t,a){e.exports={app:"App_app__2GG4k",errorMessage:"App_errorMessage__17g3w"}},17:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__33K7V"}},18:function(e,t,a){e.exports={button:"Button_button__1hrmB"}},20:function(e,t,a){e.exports={loader:"Spinner_loader__EY7aR"}},24:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),s=a.n(o),i=(a(24),a(14)),l=a(3),c=a(4),u=a(6),h=a(5),m=a(11),p=(a(16),a(15)),d=a.p+"static/media/search.2c56cdac.svg",g=a(7),f=a.n(g),b=a(1),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleQueryChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.query.trim()?e.props.onSubmit(e.state.query):Object(p.b)("Type in the keyword")},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsx)("header",{className:f.a.searchbar,children:Object(b.jsxs)("form",{className:f.a.form,onSubmit:this.handleSubmit,children:[Object(b.jsx)("button",{type:"submit",className:f.a.button,children:Object(b.jsx)("img",{className:f.a.icon,src:d,alt:"img"})}),Object(b.jsx)(p.a,{}),Object(b.jsx)("input",{className:f.a.input,type:"text",value:this.state.query,onChange:this.handleQueryChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),a}(r.Component),j=["title","titleId"];function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},O.apply(this,arguments)}function k(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function v(e,t){var a=e.title,n=e.titleId,o=k(e,j);return r.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:30,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":n},o),a?r.createElement("title",{id:n},a):null,r.createElement("g",{transform:"translate(128 128) scale(0.87 0.87)",style:{}},r.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(-144.89999999999998 -144.90000000000003) scale(3.22 3.22)"},r.createElement("path",{d:"M 24.482 67.518 c -0.512 0 -1.024 -0.195 -1.414 -0.586 c -0.781 -0.781 -0.781 -2.047 0 -2.828 l 41.035 -41.035 c 0.781 -0.781 2.047 -0.781 2.828 0 c 0.781 0.781 0.781 2.047 0 2.828 L 25.896 66.932 C 25.506 67.322 24.994 67.518 24.482 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),r.createElement("path",{d:"M 65.518 67.518 c -0.512 0 -1.023 -0.195 -1.414 -0.586 L 23.068 25.896 c -0.781 -0.781 -0.781 -2.047 0 -2.828 c 0.78 -0.781 2.048 -0.781 2.828 0 l 41.035 41.035 c 0.781 0.781 0.781 2.047 0 2.828 C 66.541 67.322 66.029 67.518 65.518 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),r.createElement("path",{d:"M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 4 C 22.393 4 4 22.393 4 45 s 18.393 41 41 41 s 41 -18.393 41 -41 S 67.607 4 45 4 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}))))}var w=r.forwardRef(v),x=(a.p,a(9)),_=a.n(x),M=document.querySelector("#modal-root"),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggleModal()},e.handleBackdropClick=function(t){e.props.toggleModal(),t.currentTarget!==t.target&&"svg"!==t.target.nodeName&&"path"!==t.target.nodeName||(console.log("r"),e.props.toggleModal())},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(r.createPortal)(Object(b.jsxs)("div",{className:_.a.overlay,onClick:this.handleBackdropClick,children:[Object(b.jsx)(w,{className:_.a.closeButton,fill:"#fff"}),Object(b.jsx)("div",{className:_.a.modal,children:Object(b.jsx)("img",{src:this.props.largeImageURL,alt:"img"})})]}),M)}}]),a}(r.Component),L=a(12),C=a.n(L),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1},e.toggleModal=function(){console.log(e.state.showModal),e.setState((function(e){return{showModal:!e.showModal}})),console.log(e.state.showModal)},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(b.jsxs)("li",{className:C.a.galleryItem,onClick:this.toggleModal,children:[Object(b.jsx)("img",{className:C.a.galleryItemImage,src:this.props.webformatURL,alt:"img"}),this.state.showModal&&Object(b.jsx)(S,{largeImageURL:this.props.largeImageURL,toggleModal:this.toggleModal})]},this.props.id)}}]),a}(r.Component),N=a(17),R=a.n(N),E=function(e){var t=e.images;return Object(b.jsx)("ul",{className:R.a.gallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL;return Object(b.jsx)(I,{id:t,webformatURL:a,largeImageURL:r},t)}))})},B=a(18),D=a.n(B),U=function(e){var t=e.onMoreBtnClick;return Object(b.jsx)("button",{className:D.a.button,onClick:t,children:"Load more"})},q=a(19),z=a.n(q),Q=(a(46),a(20)),G=a.n(Q),A=function(){return Object(b.jsx)(z.a,{className:G.a.loader,type:"Oval",color:"#3f51b5",height:100,width:100})},P=a(13),W=a.n(P),K=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).myRef=n.a.createRef(),e.state={searchQuery:"",images:[],page:1,loading:!1,error:null},e.handleFormSubmit=function(t){e.setState({searchQuery:t}),e.setState({images:[]}),e.myRef.current.scrollIntoView()},e.onMoreBtnClick=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.searchQuery===this.state.searchQuery&&t.page===this.state.page||(this.setState({loading:!0}),fetch("https://pixabay.com/api/?q=".concat(this.state.searchQuery,"&page=").concat(this.state.page,"&key=23351611-7864196d6829752dad19e3759&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("No images found"))})).then((function(e){a.setState((function(t){return{images:[].concat(Object(i.a)(t.images),Object(i.a)(e.hits))}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({loading:!1})})))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:W.a.app,ref:this.myRef,children:[Object(b.jsx)(y,{onSubmit:this.handleFormSubmit}),this.state.loading&&Object(b.jsx)(A,{}),this.state.error&&Object(b.jsx)("h1",{className:W.a.errorMessage,children:this.state.error.message}),Object(b.jsx)(E,{images:this.state.images}),this.state.images.length>0&&Object(b.jsx)(U,{onMoreBtnClick:this.onMoreBtnClick})]})}}]),a}(m.Component);s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__eqeEu",button:"Searchbar_button__1i_LR",input:"Searchbar_input__EOwto"}},9:function(e,t,a){e.exports={overlay:"Modal_overlay__3iQGN",modal:"Modal_modal__1D1C_",closeButton:"Modal_closeButton__1ODNO"}}},[[47,1,2]]]);
//# sourceMappingURL=main.19399715.chunk.js.map